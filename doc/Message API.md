﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿## Message API## **介绍**   Message模块主要包装了Carrier消息功能，我们在开发过程中预置了Carrier离线接口，待Carrier离线消息SDK提供后，进行补充，其中借鉴了Hyper的消息封装代码。（message模块api目前只支持Android）## **目录**- [1. 是否链接上节点 ](#1-是否链接上节点)- [2. 启动节点](#2-启动节点)- [3. 清除消息](#3-清除消息)- [4. 关闭节点](#4-关闭节点)- [5. 停止正在传送的文件](#5-停止正在传送的文件)- [6. 获取地址](#6-获取地址)- [7. 获取用户id](#7-获取用户id)- [8. 验证地址有效性](#8-验证地址有效性)- [9. 验证用户id有效性](#9-验证用户id有效性)- [10. 添加好友](#10-添加好友)- [11. 设置profile](#11-设置profile)- [12. 发送消息](#12-发送消息)- [13. 同意好友请求](#13-同意好友请求)- [14. 我的profile](#14-我的profile)- [15. 获取好友信息](#15-获取好友信息)- [16. 好友列表](#16-好友列表)- [17. 群组](#17-群组)- [18. 发送群消息](#18-发送群消息)###  1. 是否链接上节点 - 方法名称   isConnected > 返回参数| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||  isConnected   |   boolean       |        |   是    |   true、false    |###  2. 启动节点- 方法名称 run ### 清除carrier- 方法名称   cleanup### 3. 关闭节点- 方法名称  kill ### 4. 发送文件- 方法名称  sendFile| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   file      |   file     |        |   是    |      |> 返回参数| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||  fileId    |  string       |        |   是    |       |### 5. 停止正在传送的文件- 方法名称  stopFile| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   fileId     |   string     |        |   是    |      |### 6. 获取地址-  getAddress> 返回参数| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   address      |   string     |        |   是    |      |### 7. 获取用户id- 方法名称  getUserId > 返回参数：| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   userId      |   string     |   用户id     |   是    |      |### 8. 验证地址有效性-  方法名称  isValidAddress | 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   address      |   string     |        |   是    |      |> 返回参数：| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   isValidAddress      |   boolean     |   是否有效     |   true、false    |      |### 9. 验证用户id有效性- 方法名称 isValidUserId | 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   userId      |   string     |   用户id     |   是    |      |> 返回参数：| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   isValidUserId      |   boolean     |   是否有效     |   true、false    |      |### 10. 添加好友- 方法名称 addFriend| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   address      |   string     |    好友地址    |   是    |      ||   nickname     |   string     |    昵称    |   是    |      ||   message       |   string     |    验证消息    |   是    |      |###  同意好友请求- 方法名称 acceptFriend| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   userId      |   string     |   用户id     |   是    |      ||   nickname     |   string     |    昵称    |   是    |      | ### 解除好友关系- removeFriend| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   userId      |   string     |   用户id     |   是    |      |### 11. 设置profile- setSelfInfo| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   UserInfo   |   object    |   用户信息     |   是    |       |``` JAVAclass UserInfo{        String userId;        String name;        String description;        boolean hasAvatar;       String gender;       String phone;       String email;       String region;}```### 12. 发送消息- sendFriendMessage| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   userId      |   string     |   用户id     |   是    |      ||   message       |   string     |    验证消息    |   是    |      |### 13. 我的profile- getSelfInfo> 返回参数| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   UserInfo   |   object    |   用户信息     |   是    |       |### 获取好友信息- getFriend| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   userId      |   string     |   用户id     |   是    |      |>  返回参数| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   FriendInfo   |   object      |        |        |  参考 结构： FriendInfo     |``` javaclass FriendInfo{        String userId;        String name;        String description;        boolean hasAvatar;       String gender;       String phone;       String email;       String region;       ConnectionStatus status  ; // 0: Connected ||  1:Disconnected}```### 好友列表- getFriends> 返回参数| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   List<FriendInfo>  |   object      |        |   是    |  参考 结构： FriendInfo     |## group ### 13. 创建一个群组- createRoom| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   title |   string     |   群昵称     |   是    |      |>  返回参数| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   groupId    |   string      |        |        |     | ### 好友邀请- inviteToRoom| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   groupId |   string     |   群id     |   是    |      ||   friendId|   string     |   好友id     |   是    |      |>  返回参数| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   result    |   boolean      |   结果     |    是    |     |### 加入群组- joinRoom| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   cookieText |   string     |   组的cookie信息     |   是    |      ||   friendId |   string     |   用户id     |   是    |      |>  返回参数| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   result    |   boolean      |   结果     |    是    |     | ### 关闭群组- closeRoom| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   groupId |   string     |   群id     |   是    |      |>  返回参数| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   result    |   boolean      |   结果     |    是    |     |### 删除群组- joinRoom| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   groupId |   string     |   群id     |   是    |      |>  返回参数| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   result    |   boolean      |   结果     |    是    |     |### 设置群组昵称- setRoomTitle| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   groupId |   string     |   群id     |   是    |      ||   title |   string     |   群昵称     |   是    |      |>  返回参数| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   result    |   boolean      |   结果     |    是    |     | ### 14. 发送群消息- sendRoomMessage| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   groupId |   string     |   群id     |   是    |      ||   message|   string     |   群消息   |   是    |      |>  返回参数| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   result    |   boolean      |   结果     |    是    |     |### 群好友信息- getPeerList| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||   groupId |   string     |   群id     |   是    |      |>  返回参数| 参数| 类型| 描述| 必须 |说明|| :----:| :----:    | :----:| :----:|:----:||  peerInfo|    object       |   结果     |    是    |     |